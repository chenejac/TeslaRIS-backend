@startuml

'TODO: Da li uri kod ovih objekata predstavlja ID?
'TODO: Za sta suzi locale
'TODO: Sta da radim sa reocrd DTO
'TODO: Author Position i Title razlike?
'TODO: Da li treba JMBG u autora
'TODO: Sta je PAVNT
'TODO: Da li treba za autora is active
'TODO: Fizicko ili logicko brisanje
'TODO: Da li da autora identifikujemo preko ID foregin key ili preko emaila ili kako vec
'TODO: Da li se Author ima id Usera ili User ima id Authora 

enum Sex {
  MALE
  FEMALE
}

enum Language {
  SR_LATIN
  SR_CYRILLIC
  ENG
}

enum TranslationType {
  MACHINE
  HUMAN
  ORIGINAL
}

' TODO: Ekvivalent RecordDTO klasi, cilj je da se zajednicki metapodaci za razlicite entitete modeluju kako bi bili lako dostupni
class CommonMetadata {
  ' TODO: controlNumber? HTML/string representation?
  -String controlNumber
	-String scopusID
	-String ORCID
	-Locale locale
	-String stringRepresentation
	-String HTMLRepresentation
	-String harvardRepresentation
	-String MARC21
	-String dublinCore
}

class MultiLingualContent {
  Language language
  String content
  TranslationType translationType
}

class GeoLocation {
  Double longitude
  Double latitude
  int precisionInMeters
}

package user {
  
  class Permission {
    -String name
  }
  
  class Authority {
    -String name
    -Set<Permission> permissions 
  }


  class User {
    -String email
    -String password
    -String note
    -Language preferedLanguage
    -boolean isActive
    -Authority authority
    -Author author
  }

  class UserActivation {
    -String code
    -LocalDateTime timestamp
  }
  UserActivation -> User
}




package author {
  class Author {
    -AuthorName authorName
    -Set<MultiLingualContent> otherNames
    +String name()
    -TitleInstitution titleInstitution
    -Set<MultiLingualContent> biography
    -Set<MultiLingualContent> keyword
    -String contantEmail
    -String phoneNumber
    -String altPhoneNumber
    -String apvnt
    -Set<ResearchArea> researchAreas 

  }
  ' TODO: What is other format names


  class PersonalInfo {
    -LocalDate localBirth
    -String placeOfBrith
    -String state
    -String address
    -Stirng city
    -Sex sex
  }

' TODO: Da li ce nekada biti potrebna instorija kada je dobio koje zvanje, da li je potrebna samo zadnja institucija ili?
  class TitleInstitution {
    -int year
    -String title
    -Institution institution
  }

}


' TODO: Sta je someName
package institution {
  class Institution {
    -Set<MultiLingualContent> name
    -String acronym
    -Set<MultiLingualContent> keyword
    -Set<ResearchArea> researchAreas
    GeoLocation location
  }

  class ResearchArea {
    -Set<MultiLingualContent> term
    -Set<MultiLingualContent> description
  }
  ResearchArea "1" --> "0..1" ResearchArea


}

' TODO: za svaki tip publikacije dodati zasebnu klasu ili modelovati sve u jednoj velikoj tabeli
package publication {

  class AuthorPublication {
    -Author author
    -Set<MultiLingualContent> contributionDescription
    -boolean mainAuthor
  }

  ' TODO: Sta je alphabet???
  class Publication {
    -Institution institution
    -Set<AuthorPublication> authors
    -Set<string> uris
    -LocalDate publicationDate
    -String filename
    -CommonMetadata metadata
  }

  Publication "1" --> "1..*" AuthorPublication

}

@enduml
