@startuml

'TODO: Da li uri kod ovih objekata predstavlja ID?
'TODO: Za sta suzi locale
'TODO: Sta da radim sa reocrd DTO
'TODO: Author Position i Title razlike?
'TODO: Da li treba JMBG u autora
'TODO: Sta je PAVNT
'TODO: Da li treba za autora is active
'TODO: Fizicko ili logicko brisanje
'TODO: Da li da autora identifikujemo preko ID foregin key ili preko emaila ili kako vec
'TODO: Da li se Author ima id Usera ili User ima id Authora 

enum Sex {
  MALE
  FEMALE
}

enum Language {
  SR_LATIN
  SR_CYRILLIC
  ENG
}

enum TranslationType {
  MACHINE
  HUMAN
  ORIGINAL
}

' TODO: Ekvivalent RecordDTO klasi, cilj je da se zajednicki metapodaci za razlicite entitete modeluju kako bi bili lako dostupni
class CommonMetadata {
  ' TODO: controlNumber? HTML/string representation?
  -String controlNumber
	-String scopusID
	-String ORCID
	-Locale locale
	-String stringRepresentation
	-String HTMLRepresentation
	-String harvardRepresentation
	-String MARC21
	-String dublinCore
}

class MultiLingualContent {
  Language language
  String content
  TranslationType translationType
}

class GeoLocation {
  Double longitude
  Double latitude
  int precisionInMeters
}

package user {
  
  class Permission {
    -String name
  }
  
  class Authority {
    -String name
    -Set<Permission> permissions 
  }


  class User {
    -String email
    -String password
    -String note
    -Language preferedLanguage
    -boolean isActive
    -Authority authority
    -Author author
  }

  class UserActivation {
    -String code
    -LocalDateTime timestamp
  }
  UserActivation -> User
}




package author {
  class Author {
    -AuthorName authorName
    -Set<MultiLingualContent> otherNames
    +String name()
    -TitleInstitution titleInstitution
    -Set<MultiLingualContent> biography
    -Set<MultiLingualContent> keyword
    -String contantEmail
    -String phoneNumber
    -String altPhoneNumber
    -String apvnt
    -Set<ResearchArea> researchAreas 

  }
  ' TODO: What is other format names


  class PersonalInfo {
    -LocalDate localBirth
    -String placeOfBrith
    -String state
    -String address
    -Stirng city
    -Sex sex
  }

' TODO: Da li ce nekada biti potrebna instorija kada je dobio koje zvanje, da li je potrebna samo zadnja institucija ili?
  class TitleInstitution {
    -int year
    -String title
    -Institution institution
  }

}


' TODO: Sta je someName
package institution {
  class Institution {
    -Set<MultiLingualContent> name
    -String acronym
    -Set<MultiLingualContent> keyword
    -Set<ResearchArea> researchAreas
    GeoLocation location
  }

  class ResearchArea {
    -Set<MultiLingualContent> term
    -Set<MultiLingualContent> description
  }
  ResearchArea "1" --> "0..1" ResearchArea


}

' TODO: za svaki tip publikacije dodati zasebnu klasu ili modelovati sve u jednoj velikoj tabeli
package publication {

  class PublisherName {
    -String name
    -String place
    -String state
    -Language language
  }

  class Publisher {
    -Set<PublisherName> name
  }

  class AuthorContribution {
    -Author author
    -Set<MultiLingualContent> contributionDescription
    -boolean mainAuthor
  }

  ' TODO: Sta je alphabet???
  class Publication {
    -Institution institution
    -Set<AuthorContribution> authors
    -Set<string> uris
    -LocalDate publicationDate
    -String filename
    -CommonMetadata metadata
  }

  class ProceedingsPublication extends Publication {
    -Set<MultiLingualContent> title
    -Set<MultiLingualContent> subtitle
    -String startPage;
	  -String endPage;
    -Integer numberOfPages
    -Set<MultiLingualContent> note
    -Set<MultiLingualContent> keywords
    -Set<MultiLingualContent> abstracT
  }

  class Proceedings {
    -Conference conference
    -Set<MultiLingualContent> title
    -Set<MultiLingualContent> subtitle
    -String isbn
    -Integer numberOfPages
    -String dimension
    -String editionTitle
    -Integer editionNumber
    -Set<Author> editors
    -Set<String> languages
    -Set<MultiLingualContent> nameAbbreviation
    -Set<MultiLingualContent> note
    -Set<MultiLingualContent> keywords
    -Set<MultiLingualContent> abstracT
    -String uri
    -String doi
  }

  class Conference {
    -Set<MultiLingualContent> name
    -String place
	  -Integer year
    -String period
    -String number
    -String state
    -String fee
    -Set<MultiLingualContent> description
    -Set<MultiLingualContent> keywords
    -String uri
  }

  ProceedingsPublication "1..*" --> "1" Proceedings
  Proceedings "1..*" --> "1" Conference

  ' Sta su paperType, start i end page?
  class JournalPublication extends Publication {
    -Set<MultiLingualContent> title
    -String startPage;
	  -String endPage;
    -String volume
	  -String number
    -Set<MultiLingualContent> note
    -Set<MultiLingualContent> keywords
    -Set<MultiLingualContent> abstracT
    -String doi
  }

  class Journal {
    -Set<MultiLingualContent> title
    -String issn
    -Set<Author> editors
    -Set<String> languages
    -Set<MultiLingualContent> nameAbbreviation
    -Set<MultiLingualContent> note
    -Set<MultiLingualContent> keywords
    -String uri
    -String doi
  }

  JournalPublication "1..*" --> "1" Journal

  ' TODO: Da li je poglavlje u monografiji dovoljno da se modeluje kao monografija pa da se u author contibution navede ko je sta radio
  class MonographPublication extends Publication {
    -Set<MultiLingualContent> title
    -Set<MultiLingualContent> subtitle
    -String startPage;
	  -String endPage
    -Set<MultiLingualContent> note
    -Set<MultiLingualContent> keywords
    -Set<MultiLingualContent> abstracT
    -String doi
  }

  class Monograph {
    -Set<MultiLingualContent> title
    -Set<MultiLingualContent> subtitle
    -String volumeCode
    -String volumeTitle
    -String isbn
    -Integer numberOfPages
    -String dimension
    -Integer count
    -String editionTitle
    -Integer editionNumber
    -String editionISSN
    -String alphabet
    -Set<Author> editors
    -Set<String> languages
    -Set<String> originalLanguages
    -Set<MultiLingualContent> note
    -Set<MultiLingualContent> keywords
    -Set<MultiLingualContent> abstracT
    -String doi
    -ResearchArea researchArea
  }

  MonographPublication "1..*" --> "1" Monograph

  class Patent extends Publication {
    -Set<MultiLingualContent> title
    -String number;
    -Set<MultiLingualContent> keywords
    -Set<MultiLingualContent> abstracT
    -String doi
  }

  class Other extends Publication {
    -OtherPublicationCategory category
  }

  class Thesis extends Publication {
    -ThesisCategory category
  }

  class Product extends Publication {
    -ProductCategory category
    -Set<MultiLingualContent> name
    -String internalNumber
    -Set<MultiLingualContent> keywords
    -Set<MultiLingualContent> description
    -String uri;
	  -String doi;
  }

  enum ThesisCategory {
    MR
    PHD
    MASTER
    BACHELOR
  }

  enum ProductCategory {
    DATASET
    SOFTWARE
    TECHNICAL_SOLUTION
  }

  enum OtherPublicationCategory {
    INFORMATIVE_ATTACHMENT
    ENCYCLOPEDIC_CONTRIBUTION
    LEXICOGRAPHIC_CONTRIBUTION
    SCIENTIFIC_CRITIC
    POLEMICS
  }

  Publication "1" --> "1..*" AuthorContribution
  Monograph "0..*" --> "1" Publisher
  Proceedings "0..*" --> "1" Publisher
  Patent "0..*" --> "1" Publisher
  Product "0..*" --> "1" Publisher

}

@enduml
